

# æ€»ç»“

> ğŸ“Œç»™å®šä¸€ä¸ªéè´Ÿæ•´æ•°æ•°ç»„ `nums` ï¼Œä½ æœ€åˆä½äºæ•°ç»„çš„ **ç¬¬ä¸€ä¸ªä¸‹æ ‡** ã€‚
> æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ ä»£è¡¨ä½ åœ¨è¯¥ä½ç½®å¯ä»¥è·³è·ƒçš„æœ€å¤§é•¿åº¦ã€‚

> âš ï¸æ³¨æ„ï¼Œä¸ç®¡æ˜¯ä»€ä¹ˆæƒ…å†µä¸‹ï¼Œä½ éƒ½æ— æ³•è·³åˆ°æ•°ç»„ä¹‹å¤–ã€‚

| é¢˜ç›®                                                                                 | æè¿°                                                                                                                                                                                                                                                                                          | é¢˜è§£           |
| ---------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------ |
| [55. è·³è·ƒæ¸¸æˆ](https://leetcode-cn.com/problems/jump-game/ "55. è·³è·ƒæ¸¸æˆ")                 | ğŸ“Œ åˆ¤æ–­æ˜¯å¦èƒ½åˆ°è¾¾æœ€åä¸€ä¸ªä¸‹æ ‡                                                                                                                                                                                                                                                                            | è´ªå¿ƒ           |
| [45. è·³è·ƒæ¸¸æˆ II](https://leetcode-cn.com/problems/jump-game-ii/ "45. è·³è·ƒæ¸¸æˆ II")        | ğŸ“Œ ä½¿ç”¨æœ€å°‘çš„è·³è·ƒæ¬¡æ•°åˆ°è¾¾æ•°ç»„çš„æœ€åä¸€ä¸ªä½ç½®ã€‚&#xA;å‡è®¾ä½ æ€»æ˜¯å¯ä»¥åˆ°è¾¾æ•°ç»„çš„æœ€åä¸€ä¸ªä½ç½®ã€‚                                                                                                                                                                                                                                            | è´ªå¿ƒ           |
| [1306. è·³è·ƒæ¸¸æˆ III](https://leetcode-cn.com/problems/jump-game-iii/ "1306. è·³è·ƒæ¸¸æˆ III") | ğŸ“Œ æœ€åˆä½äºä¸‹æ ‡ `start` å¤„ã€‚âš ï¸&#xA;å½“ä½ ä½äºä¸‹æ ‡ i å¤„æ—¶ï¼Œä½ å¯ä»¥è·³åˆ° `i + arr[i]` æˆ–è€… `i - arr[i]`ã€‚&#xA;åˆ¤æ–­æ˜¯å¦èƒ½å¤Ÿè·³åˆ°å¯¹åº”å…ƒç´ å€¼ä¸º 0 çš„ ä»»ä¸€ ä¸‹æ ‡å¤„ã€‚                                                                                                                                                                                   | å±‚æ¬¡éå†         |
| [1345. è·³è·ƒæ¸¸æˆ IV](https://leetcode-cn.com/problems/jump-game-iv/ "1345. è·³è·ƒæ¸¸æˆ IV")    | ğŸ“Œ âš ï¸&#xA;æ¯ä¸€æ­¥ï¼Œä½ å¯ä»¥ä»ä¸‹æ ‡ i è·³åˆ°ä¸‹æ ‡ï¼š&#xA;i + 1 æ»¡è¶³ï¼ši + 1 < arr.length&#xA;i - 1 æ»¡è¶³ï¼ši - 1 >= 0&#xA;j æ»¡è¶³ï¼šarr\[i] == arr\[j] ä¸” i != j&#xA;åˆ°è¾¾æ•°ç»„æœ€åä¸€ä¸ªä½ç½® æ‰€éœ€çš„ æœ€å°‘æ“ä½œæ¬¡æ•° ã€‚                                                                                                                                       | å±‚æ¬¡éå†         |
| [1340. è·³è·ƒæ¸¸æˆ V](https://leetcode-cn.com/problems/jump-game-v/ "1340. è·³è·ƒæ¸¸æˆ V")       | âš ï¸ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ arr å’Œä¸€ä¸ªæ•´æ•° d ã€‚æ¯ä¸€æ­¥ä½ å¯ä»¥ä»ä¸‹æ ‡ i è·³åˆ°ï¼š&#xA;i + x ï¼Œå…¶ä¸­ i + x < arr.length ä¸” 0 < x <= d ã€‚&#xA;i - x ï¼Œå…¶ä¸­ i - x >= 0 ä¸” 0 < x <= d ã€‚&#xA;é™¤æ­¤ä»¥å¤–ï¼Œä½ ä»ä¸‹æ ‡ i è·³åˆ°ä¸‹æ ‡ j éœ€è¦æ»¡è¶³ï¼šarr\[i] > arr\[j] ä¸” arr\[i] > arr\[k] ï¼Œå…¶ä¸­ä¸‹æ ‡ k æ˜¯æ‰€æœ‰ i åˆ° j ä¹‹é—´çš„æ•°å­—ï¼ˆæ›´æ­£å¼çš„ï¼Œmin(i, j) < k < max(i, j)ï¼‰ã€‚&#xA;å¯é€‰æ‹©æ•°ç»„çš„ä»»æ„ä¸‹æ ‡å¼€å§‹è·³è·ƒã€‚æœ€å¤š å¯ä»¥è®¿é—®å¤šå°‘ä¸ªä¸‹æ ‡ã€‚ | åŠ¨æ€è§„åˆ’         |
| [1696. è·³è·ƒæ¸¸æˆ VI](https://leetcode-cn.com/problems/jump-game-vi/ "1696. è·³è·ƒæ¸¸æˆ VI")    | ğŸ“Œ æ•°ç»„ä¸­å­˜åœ¨è´Ÿæ•°ã€‚âš ï¸&#xA;æ¯ä¸€æ­¥ï¼Œä½ æœ€å¤šå¯ä»¥å¾€å‰è·³ k æ­¥ã€‚&#xA;åˆ°è¾¾æ•°ç»„çš„æœ€åä¸€ä¸ªä½ç½® æ‰€ç»è¿‡çš„æ•°å­—ä¹‹å’Œçš„æœ€å¤§å¾—åˆ†ã€‚                                                                                                                                                                                                                          | åŠ¨æ€è§„åˆ’+æ»‘åŠ¨çª—å£æœ€å¤§å€¼ |
| [1871. è·³è·ƒæ¸¸æˆ VII](https://leetcode-cn.com/problems/jump-game-vii/ "1871. è·³è·ƒæ¸¸æˆ VII") | ç»™ä½ ä¸€ä¸ªä¸‹æ ‡ä» 0 å¼€å§‹çš„äºŒè¿›åˆ¶å­—ç¬¦ä¸² s å’Œä¸¤ä¸ªæ•´æ•° minJump å’Œ maxJump ã€‚ä¸€å¼€å§‹ï¼Œä½ åœ¨ä¸‹æ ‡ 0 å¤„ï¼Œä¸”è¯¥ä½ç½®çš„å€¼ä¸€å®šä¸º '0' ã€‚å½“åŒæ—¶æ»¡è¶³å¦‚ä¸‹æ¡ä»¶æ—¶ï¼Œä½ å¯ä»¥ä»ä¸‹æ ‡ i ç§»åŠ¨åˆ°ä¸‹æ ‡ j å¤„ï¼š&#xA;i + minJump <= j <= min(i + maxJump, s.length - 1) ä¸”&#xA;s\[j] == '0'.&#xA;å¦‚æœä½ å¯ä»¥åˆ°è¾¾ s çš„ä¸‹æ ‡ s.length - 1 å¤„ï¼Œè¯·ä½ è¿”å› true ï¼Œå¦åˆ™è¿”å› false ã€‚                                               |              |

#### [55. è·³è·ƒæ¸¸æˆ](https://leetcode-cn.com/problems/jump-game/ "55. è·³è·ƒæ¸¸æˆ")

```python
class Solution:
    def canJump(self, nums: List[int]) -> bool:
        """
        è´ªå¿ƒç®—æ³•
        """
        max_ = 0 # èƒ½è·³çš„æœ€å¤§è·ç¦»
        len_ = len(nums)

        for i in range(len_):
            if i <= max_:  # ièµ°çš„è‚¯å®šå¾—æ¯”max_æ…¢
                max_ = max(max_, i+nums[i])
                if max_ >= len(nums)-1: return True
        return False
```

#### [45. è·³è·ƒæ¸¸æˆ II](https://leetcode-cn.com/problems/jump-game-ii/ "45. è·³è·ƒæ¸¸æˆ II")

è§£æ³•1ï¼šåŠ¨æ€è§„åˆ’
\- dptableå®šä¹‰ï¼šåˆ°è¾¾æŸä½ç½®æ—¶éœ€è¦çš„æœ€å°è·³è·ƒæ¬¡æ•°ã€‚
\- éå†æ–¹å‘ï¼šä»å·¦å¾€å³
\- è½¬ç§»æ–¹ç¨‹ï¼šä»`i`ä½ç½®èµ·è·³ï¼Œåœ¨`i+nums[i]`çš„èŒƒå›´å‡å—å½±å“ã€‚
&#x20;                 `dptable[j] = min(dptable[j], dptable[i]+1)`
&#x20;                 ç¬¬ä¸€æ¬¡é‡åˆ°jä¸ºæœ€åä½ç½®çš„æ—¶å€™ï¼Œå¯æå‰é€€å‡ºã€‚

```python
class Solution:
    def jump(self, nums: List[int]) -> int:
        dptable = [0] + [10000] * (len(nums) - 1)
        step = 0
        for i, n in enumerate(nums[:-1]):
            step = dptable[i] + 1
            for j in range(i, i+n+1):
                dptable[j] = min(dptable[j], step)
                # print(step, dptable)
                if j == len(nums)-1:
                    return dptable[j]
            
        return dptable[len(nums)-1]
```

è§£æ³•2ï¼šè´ªå¿ƒç®—æ³•
**è´ªå¿ƒé€‰æ‹©æ€§è´¨ï¼Œæˆ‘ä»¬ä¸éœ€è¦ã€Œé€’å½’åœ°ã€è®¡ç®—å‡ºæ‰€æœ‰é€‰æ‹©çš„å…·ä½“ç»“æœç„¶åæ¯”è¾ƒæ±‚æœ€å€¼ï¼Œè€Œåªéœ€è¦åšå‡ºé‚£ä¸ªæœ€æœ‰ã€Œæ½œåŠ›ã€ï¼Œçœ‹èµ·æ¥æœ€ä¼˜çš„é€‰æ‹©å³å¯**ã€‚
ä»¥`[3,1,4,2,x,x,x]`ä¸ºä¾‹ï¼Œå½“ä»3å‡ºå‘æ—¶ï¼Œåœ¨1ï¼Œ4ï¼Œ2ä¸­ï¼Œé€‰æ‹©4æ‰èƒ½ä¿è¯æˆ‘æ›´å¿«åˆ°è¾¾æœ€åä½ç½®ã€‚

```python
class Solution:
    def jump(self, nums: List[int]) -> int:
        n = len(nums)
        # i å’Œ end æ ‡è®°äº†å¯ä»¥é€‰æ‹©çš„è·³è·ƒæ­¥æ•°
        # maxPos æ ‡è®°äº†æ‰€æœ‰é€‰æ‹© [i..end] ä¸­èƒ½å¤Ÿè·³åˆ°çš„æœ€è¿œè·ç¦»
        maxPos, end, step = 0, 0, 0
        for i in range(n - 1):
            if maxPos >= i:
                maxPos = max(maxPos, i + nums[i])
                if i == end:
                    end = maxPos
                    step += 1
        return step
```

#### [1306. è·³è·ƒæ¸¸æˆ III](https://leetcode-cn.com/problems/jump-game-iii/ "1306. è·³è·ƒæ¸¸æˆ III")

è§£ç­”ï¼š å±‚æ¬¡éå†BFS

```python
import collections

class Solution:
    def canReach(self, arr: List[int], start: int) -> bool:
        if arr[start]==0: return True

        len_ = len(arr)
        used = {start}
        queue = collections.deque([start])

        while queue:
            cur = queue.popleft()
            for j in [cur-arr[cur], cur+arr[cur]]:
                if j >=0 and j < len_ and j not in used:
                    if arr[j]==0: return True
                    queue.append(j)
                    used.add(j)
        return False
```

#### [1345. è·³è·ƒæ¸¸æˆ IV](https://leetcode-cn.com/problems/jump-game-iv/ "1345. è·³è·ƒæ¸¸æˆ IV")

è§£æ³•ï¼šå±‚æ¬¡éå†BFS

```python
class Solution:
    def minJumps(self, arr: List[int]) -> int:
        neibors = collections.defaultdict(list)
        for i,n in enumerate(arr):
            neibors[n].append(i)

        q = collections.deque()
        q.append(0)
        visited = set([0])

        step = 0
    
        while q:
            sz = len(q)
            for i in range(sz):
                cur = q.popleft()
                # ç¬¦åˆæ¡ä»¶
                if cur==len(arr)-1:
                    return step
                
                # å‹é‚»å±…
                for v in [cur-1, cur+1]:
                    if v>0 and v<len(arr) and v not in visited:
                        q.append(v)
                        visited.add(v)
                for v in neibors[arr[cur]]:
                    if v not in visited:
                        q.append(v)
                        visited.add(v)
                neibors[arr[cur]] = []   # ä¸ç½®ç©ºï¼Œå­˜åœ¨è¶…æ—¶ï¼Œè‹¥[Nå¤šä¸ª7,11]
            step += 1

        return step
```

#### [1340. è·³è·ƒæ¸¸æˆ V](https://leetcode-cn.com/problems/jump-game-v/ "1340. è·³è·ƒæ¸¸æˆ V")

é¢˜è§£ï¼šåŠ¨æ€è§„åˆ’

```python
class Solution:
    def maxJumps(self, arr: List[int], d: int) -> int:
        memo = {}

        for i in range(len(arr)):
            memo[i] = self._get_maxjumps(arr, d, i, memo)

        return max(memo.values())
    
    
    def _get_maxjumps(self, arr, d, ind, memo):
        if ind in memo:
            return memo[ind]

        max_ = 1
        cur = arr[ind]

        # å·¦çœ‹
        for x in range(1, d+1):
            if ind - x >= 0 and arr[ind - x] < cur:
                max_ = max(self._get_maxjumps(arr, d, ind - x, memo) + 1, max_)
            else:
                break

        # å³çœ‹
        for x in range(1, d+1):
            if ind + x < len(arr) and arr[ind + x] < cur:
                max_ = max(self._get_maxjumps(arr, d, ind + x, memo) + 1, max_)
            else:
                break

        memo[ind] = max_
        return max_

```

#### [1696. è·³è·ƒæ¸¸æˆ VI](https://leetcode-cn.com/problems/jump-game-vi/ "1696. è·³è·ƒæ¸¸æˆ VI")

ç›´æ¥ç”¨åŠ¨æ€è§„åˆ’ï¼Œä¼šæœ‰è¶…æ—¶çš„æ¡ˆä¾‹ã€‚

```python
class Solution:
    def maxResult(self, nums: List[int], k: int) -> int:
        dptable = [nums[0]] + [-float('inf')]*(len(nums)-1)
        stack = collections.deque([0])

        for i in range(1, len(nums)):
            while stack and dptable[i-1] >= dptable[stack[-1]]:
                stack.pop()
            stack.append(i-1)
            while stack and stack[0] < i-k:
                stack.popleft()
            dptable[i] = dptable[stack[0]] + nums[i]

        return dptable[-1]
```

#### [1871. è·³è·ƒæ¸¸æˆ VII](https://leetcode-cn.com/problems/jump-game-vii/ "1871. è·³è·ƒæ¸¸æˆ VII")

å±‚æ¬¡éå†ï¼Œé‡åˆ°è¶…æ—¶é—®é¢˜ã€‚

```python
class Solution:
    def canReach(self, s: str, minJump: int, maxJump: int) -> bool:
        if s[-1]!='0': return False
        
        q = collections.deque()
        q.append(0)

        len_ = len(s)
        step = 0
        
        visited = set()

        while q:
            size_ = len(q)
            for _ in range(size_):
                cur = q.popleft()
                if cur + minJump >= len_: return False
                for i in range(cur+minJump, cur+maxJump+1):
                    if i==len_-1: return True
                    if s[i]=='0' and i not in visited:
                        q.append(i)
                        visited.add(i)
            step += 1
        
        return False
```

åŠ¨æ€è§„åˆ’ + å‰ç¼€å’Œä¼˜åŒ–

ä¸¾ä¾‹è¯´æ˜ï¼šs = "001110101010" minJump=3 maxJump=5

dptable è¡¨ç¤º i ä½ç½®èƒ½å¦è®¿é—®åˆ°ã€‚è¿™æ˜¯ç”± `[i-maxJump, i-minJump]` ä¸­æ˜¯å¦å­˜åœ¨å¯è®¿é—®ç‚¹å†³å®šçš„ã€‚
æ‰€ä»¥ç”¨é¢å¤–çš„æ•°ç»„ pre è¡¨ç¤º i ä½ç½®å‰æœ‰å¤šå°‘ä¸ªå¯è®¿é—®ç‚¹ã€‚

ä»¥ä¸Šè¿°ä¾‹å­ï¼Œä¸­é—´ç»“æœè¾“å‡º`pre` å’Œ `dptable`
\[1, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3]
\[1, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0]

```python
class Solution:
    def canReach(self, s: str, minJump: int, maxJump: int) -> bool:
        if s[-1]!='0': return False
        
        n = len(s)
        # f è¡¨ç¤ºèƒ½å¦ä»ä½ç½® 0 æŒ‰ç…§ç»™å®šçš„è§„åˆ™è·³åˆ°ä½ç½® i
        # pre åœ¨åŠ¨æ€è§„åˆ’çš„åŒæ—¶ç»´æŠ¤æ•°ç»„ f çš„å‰ç¼€å’Œæ•°ç»„
        f, pre = [0] * n, [0] * n
        f[0] = 1
        # ç”±äºæˆ‘ä»¬ä» i=minJump å¼€å§‹åŠ¨æ€è§„åˆ’ï¼Œå› æ­¤éœ€è¦å°† [0,minJump) è¿™éƒ¨åˆ†çš„å‰ç¼€å’Œé¢„å¤„ç†å‡ºæ¥
        for i in range(minJump):
            pre[i] = 1
        for i in range(minJump, n):
            left, right = i - maxJump, i - minJump
            if s[i] == "0":
                total = pre[right] - (0 if left <= 0 else pre[left - 1])
                f[i] = int(total != 0)
            pre[i] = pre[i - 1] + f[i]

        return bool(f[n - 1])
```
